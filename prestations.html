<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Prestations - AquiNeuro</title>

  <!-- Tailwind CDN (dev only) -->
  <script>
    /* Tailwind CDN: inject custom theme colors before loading the runtime */
    window.tailwind = window.tailwind || {};
    window.tailwind.config = window.tailwind.config || {};
    window.tailwind.config.theme = window.tailwind.config.theme || {};
    window.tailwind.config.theme.extend = Object.assign({}, window.tailwind.config.theme.extend, {
      colors: {
        'aquineuro-dark': '#283242',
        'aquineuro-blue': '#09AFFF',
        'aquineuro-red': '#EB3F4D'
      }
    });
  </script>
  <script src="https://kit.fontawesome.com/746bd61ea5.js" crossorigin="anonymous"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/simple-line-icons/2.5.5/css/simple-line-icons.min.css">
  <!-- Fontshare: Satoshi -->
  <link rel="stylesheet" href="https://api.fontshare.com/v2/css?f[]=satoshi:400,600,700&display=swap">
  <!-- Font: Figtree (Google Fonts) -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Figtree:wght@400;500;600;700&display=swap">
  <!-- Phosphor Icons -->
  <link
    rel="stylesheet"
    type="text/css"
    href="https://cdn.jsdelivr.net/npm/@phosphor-icons/web@2.1.1/src/regular/style.css"
  />
  <link
    rel="stylesheet"
    type="text/css"
    href="https://cdn.jsdelivr.net/npm/@phosphor-icons/web@2.1.1/src/fill/style.css"
  />
  <!-- Material Symbols Icons -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=pest_control_rodent" />

  <style>
    /* use Figtree as main font */
    body {
      padding-top: 0; /* allow nav to overlay the hero */
      font-family: 'Figtree', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
    }

    /* Navbar gradient and solid states */
    .nav-white {
      background-color: white !important;
      box-shadow: 0 6px 18px rgba(0,0,0,0.25);
      color: #283242 !important;
    }

    .card {
      --index0: calc(var(--index) - 1); /* 0-based index */
      --reverse-index: calc(var(--numcards) - var(--index0)); /* reverse index */
      --reverse-index0: calc(var(--reverse-index) - 1); /* 0-based reverse index */
    }

    @keyframes scale {
      to {
        transform:
          scale(calc(1.1 - calc(0.1 * var(--reverse-index))));
      }
    }

    #cards {
      --numcards: 4;
      view-timeline-name: --cards-element-scrolls-in-body;
    }

    .card__content {
      --start-range: calc(var(--index0) / var(--numcards) * 100%);
      --end-range: calc((var(--index)) / var(--numcards) * 100%);

      animation: linear scale forwards;
      animation-timeline: --cards-element-scrolls-in-body;
      animation-range: exit-crossing var(--start-range) exit-crossing var(--end-range);
    }

    :root {
      --card-height: 40vw;
      --card-margin: 4vw;
      --card-top-offset: 1em;
      --outline-width: 0px;
    }

    #cards {
      /* Make place at bottom, as items will slide to that position*/
      padding-bottom: calc(var(--numcards) * var(--card-top-offset));
      /* Don't include the --card-margin in padding, as that will affect the scroll-timeline*/
      margin-bottom: var(--card-margin);
    }

    #card_1 {
      --index: 1;
    }

    #card_2 {
      --index: 2;
    }

    #card_3 {
      --index: 3;
    }

    #card_4 {
      --index: 4;
    }

    .card {
      position: sticky;
      top: 0;
      padding-top: calc(var(--index) * var(--card-top-offset));
    }

    .card__content {
      transform-origin: 50% 0%;
      will-change: transform;
    }

    #debug {
      position: fixed;
      top: 1em;
      left: 1em;
    }

    #debug::after {
      content: " Show Debug";
      margin-left: 1.5em;
      color: white;
      white-space: nowrap;
    }

    #debug:checked ~ main {
      --outline-width: 1px;
    }

    main {
      width: 90vw;
      margin: 0 auto;
      text-align: center;
    }

    #cards {
      list-style: none;
      outline: calc(var(--outline-width) * 10) solid hotpink;

      display: grid;
      grid-template-columns: 1fr;
      grid-template-rows: repeat(var(--numcards), var(--card-height));
      gap: var(--card-margin);
    }

    .card {
      outline: var(--outline-width) solid lime;
    }

    .card__content {
      box-shadow: 0 0.2em 1em rgba(0, 0, 0, 0.1), 0 1em 2em rgba(0, 0, 0, 0.1);
      background: rgb(255, 255, 255);
      color: rgb(10, 5, 7);
      border-radius: 1em;
      overflow: hidden;

      display: grid;
      grid-template-areas: "text img";
      grid-template-columns: 1fr 1fr;
      grid-template-rows: auto;

      align-items: stretch;
      outline: var(--outline-width) solid blue;

      height: var(--card-height);
      width: 100%;
    }

    /* Position warning box */
    .warning {
      position: fixed;
      bottom: 1rem;
      left: 1rem;
      right: 1rem;
      width: max-content;
      text-align: center;
      max-width: 90vw;
      margin: auto;
      z-index: 2;
      font-size: 0.8em;
      color: #333;
    }

  
    /* Floating toggle */
    .contact-toggle {
      position: fixed;
      left: 1rem;
      bottom: 1rem;
      width: 56px;
      height: 56px;
      border-radius: 9999px;
      background: #09AFFF; /* aquineuro-blue */
      color: white;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 8px 20px rgba(2,10,35,0.18);
      z-index: 60;
      cursor: pointer;
      transition: transform 180ms ease, box-shadow 180ms ease, background 180ms ease;
    }
    .contact-toggle:hover { transform: translateY(-4px); box-shadow: 0 12px 28px rgba(2,10,35,0.2); }

    /* Popup */
    .contact-popup {
      position: fixed;
      right: 1rem;
      bottom: 1rem;
      width: 380px;
      max-width: calc(100% - 2rem);
      background: white;
      border-radius: 12px;
      box-shadow: 0 18px 50px rgba(10,20,40,0.28);
      padding: 1rem;
      z-index: 70;
      opacity: 0;
      transform: translateY(12px) scale(.98);
      visibility: hidden;
      transition: opacity 240ms ease, transform 240ms cubic-bezier(.2,.9,.2,1), visibility 240ms;
      font-family: inherit;
    }
    .contact-popup.open {
      opacity: 1;
      transform: translateY(0) scale(1);
      visibility: visible;
    }

    .contact-popup .contact-close {
      position: absolute;
      top: 8px;
      right: 10px;
      background: transparent;
      border: none;
      font-size: 1.25rem;
      cursor: pointer;
    }

    /* svg "morph" (fade+translate) */
    .contact-toggle svg { width: 22px; height: 22px; display: block; }
    .contact-toggle .icon-bubble,
    .contact-toggle .icon-chevron {
      transition: opacity 220ms ease, transform 220ms cubic-bezier(.2,.9,.2,1);
      transform-origin: center;
      pointer-events: none;
    }
    .contact-toggle .icon-bubble { opacity: 1; transform: translateY(0) scale(1); }
    .contact-toggle .icon-chevron { opacity: 0; transform: translateY(-6px) scale(.95); }
    .contact-toggle.open .icon-bubble { opacity: 0; transform: translateY(-8px) scale(.92); }
    .contact-toggle.open .icon-chevron { opacity: 1; transform: translateY(0) scale(1); }
  </style>
</head>

<body class="min-h-screen bg-blue-50 text-[#283242]">
  <nav class="nav-white z-100 border-b">
    <div class="mx-auto px-6 py-4 flex items-center justify-between">
      <!-- Left: logo -->
      <div class="flex-shrink-0">
        <a href="index.html" class="flex items-center" data-content="navLink">
          <img src="https://aquineuro.eu/wp-content/themes/aquineuro/img/logo-color.svg" alt="Logo" class="w-24 mr-2" data-content="navImage" />
        </a>
      </div>

      <!-- Middle: navigation links (centered block) -->
      <div class="flex-1 flex justify-center">
        <div class="inline-flex items-center space-x-4">
          <div class="relative">
            <button id="formationsBtn" type="button" aria-expanded="false"
              class="text-[#283242] hover:text-sky-600 flex items-center space-x-1 focus:outline-none">
              <span>Formations</span>
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
              </svg>
            </button>

            <div id="formationsDropdown" class="hidden absolute left-0 mt-2 max-w-48 bg-white rounded shadow-lg text-gray-800 z-50">
              <a href="/formations/electrophysiologie.html" class="block px-4 py-2 hover:bg-gray-100">Électrophysiologie</a>
              <a href="/formations/photometrie.html" class="block px-4 py-2 hover:bg-gray-100">Photométrie</a>
              <a href="/formations/programmation.html" class="block px-4 py-2 hover:bg-gray-100">Programmation</a>
            </div>
          </div>

          <a href="produits.html" class="text-[#283242]hover:text-sky-600" data-content="navText">Produits</a>
          <a href="prestations.html" class="text-[#09AFFF] text-underline hover:text-sky-600" data-content="navText">Prestations</a>
          <a href="ressources.html" class="text-[#283242] hover:text-sky-600" data-content="navText">Ressources</a>
          <a href="actualites.html" class="text-[#283242] hover:text-sky-600" data-content="navText">Actualités</a>
          <a href="/equipe" class="text-[#283242] hover:text-sky-600" data-content="navText">Équipe</a>
        </div>
      </div>

      <!-- Right: language -->
      <div class="flex-shrink-0">
        <a href="/en" class="text-[#283242] hover:text-sky-600 flex items-center" data-content="navText">
          <span class="icon-globe mr-2"></span> Français
        </a>
      </div>
    </div>
  </nav>

  <div class="bg-[#283242] w-full py-12 px-6 text-left flex flex-col items-start">
    <div class="max-w-4xl text-sm flex items-center mb-8">
      <a href="https://aquineuro.eu" class="text-[#09AFFF] hover:text-sky-600 flex items-center" data-content="breadcrumbHome">
        Accueil
      </a>
      <span class="text-white mx-2">></span>
      <span class="text-gray-400" data-content="breadcrumbCurrent">Prestations</span>
    </div>
    <h1 class="text-3xl font-bold mb-4 text-white">Prestations</h1>
    <p class="text-gray-300">Aquineuro met à disposition des laboratoires de recherche en neurosciences ses compétences sur l'ensemble de la chaîne d'expérimentation dans le domaine des enregistrements physiologiques, de l'installation des équipements à l'aide à l'analyse des données.</p>
  </div>

  <main class="mx-auto p-6">
    <ul id="cards">
      <li class="card max-w-8xl" id="card_1">
        <div class="card__content flex py-16 w-full">
          <div class="w-full flex justify-center items-center">
            <img src="assets/img/IMG_5285.JPG" alt="Formation" class="p-6 w-auto h-auto object-fit"/>
          </div>
          <div class="p-6 flex flex-col text-left h-full justify-between max-w-6xl">
            <h2 class="text-2xl font-semibold text-[#283242]">Installation</h2>
            <p class="text-sm font-extralight">
              Pour les laboratoires et les équipes de recherche qui souhaitent acquérir la technique, nous proposons des conseils sur le choix des équipements, des fournitures et des consommables en fonction de vos objectifs et de vos projets. Nous proposons également l'installation des systèmes d'enregistrement, la synchronisation de vos équipements de physiologie avec vos différents dispositifs comportementaux et la préparation des environnements expérimentaux. Nous travaillons sur les systèmes suivants:
            </p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
              <div class="flex items-center space-x-2">
                <div class="p-4 bg-[#283242] rounded-md w-12 h-12 flex items-center justify-center">
                  <i class="ph ph-wave-sine text-2xl text-white"></i>
                </div>
                <span>Physiologie</span>
              </div>
              <div class="flex items-center space-x-2">
                <div class="p-4 bg-[#283242] rounded-md w-12 h-12 flex items-center justify-center">
                  <i class="fa fa-solid fa-brain text-2xl text-white"></i>
                </div>
                <span>Stimulations neuronales</span>
              </div>
              <div class="flex items-center space-x-2">
                <div class="p-4 bg-[#283242] rounded-md w-12 h-12 flex items-center justify-center">
                  <span class="material-symbols-outlined text-2xl text-white">
                    pest_control_rodent
                  </span>
                </div>
                <span>Comportements</span>
              </div>
            </div>
            <button class="rounded-full bg-[#09AFFF] p-1 text-white w-max hover:bg-[#07c1ff] transition-colors duration-200 ease-out">
              <span class="py-3 text-xs ml-2">Voir plus</span>
              <i class="fa fa-solid fa-circle-arrow-right fa-xl"></i>
            </button>  
          </div>
        </div>
      </li>
      <li class="card max-w-8xl" id="card_2">
        <div class="card__content flex py-16">
          <div class="p-6 flex flex-col text-left h-full justify-between">
            <h2 class="text-2xl font-semibold text-[#283242]">Soutien technique et scientifique</h2>
            <p class="mb-4 text-sm font-extralight">
              Aquineuro propose d'accompagner les laboratoires dans leurs recherches sur la base de forfaits horaires ou de missions clairement définies. Nous travaillons avec des équipes qui maîtrisent déjà la technique pour accélérer le travail ou résoudre des problèmes complexes. Nous pouvons vous assister dans la définition des protocoles expérimentaux, la réalisation des enregistrements, la collecte des données, l'analyse et la mise en forme des résultats scientifiques.
            </p>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-sm">
              <img src="https://aquineuro.eu/wp-content/uploads/2022/03/sd-drive-2.png" alt="SD Drive" class="w-auto h-auto object-fit rounded-md"/>
              <img src="https://aquineuro.eu/wp-content/uploads/2022/03/pulse_stim.png" alt="Pluse Stim" class="w-auto h-auto object-fit rounded-md"/>
              <img src="https://aquineuro.eu/wp-content/uploads/2022/03/head-fixed-1.png" alt="Head Fixed" class="w-auto h-auto object-fit rounded-md"/>
            </div>
            <!--
            <button class="rounded-full bg-[#09AFFF] p-1 text-white w-max hover:bg-[#07c1ff] transition-colors duration-200 ease-out">
              <span class="py-3 text-xs ml-2">Voir plus</span>
              <i class="fa fa-solid fa-circle-arrow-right fa-xl"></i>
            </button>  
            -->
          </div>
          <video src="https://aquineuro.eu/wp-content/uploads/2022/12/freecad-0.20.1-2022-12-10-10-12-02.mp4" autoplay muted loop class="p-6 w-1/2 h-auto object-fit rounded-md"></video>
        </div>
      </li>
      <li class="card max-w-8xl" id="card_3">
        <div class="card__content flex flex-col py-16 px-6 items-start space-y-10">
          <h2 class="text-2xl font-semibold text-[#283242]">Enregistrements</h2>
          <div class="flex justify-between">
            <video src="https://aquineuro.eu/wp-content/uploads/2022/11/img_4109_dan21_aquineurologo.mp4" autoplay muted loop class="w-1/2 h-auto object-fit rounded-md mr-6"></video>
            <ul class="list-disc list-inside text-sm font-extralight self-center text-left space-y-4">
              <li>Enregistrements électrophysiologiques (LFP, EEG, EMG, unités)</li>
              <li>Enregistrements photométriques (1 et 2 couleurs)</li>
              <li>Enregistrements synchronisés avec des dispositifs comportementaux (vidéo, suivi oculaire, capteurs de mouvement, etc.)</li>
              <li>Analyse des données brutes et traitement du signal</li>
            </ul>
          </div>
        </div>
      </li>
      <li class="card max-w-8xl" id="card_4">
        <div class="card__content py-16 flex flex-col px-6 items-start space-y-10">
          <h2 class="text-2xl font-semibold text-[#283242]">Analyses</h2>
          <ul class="w-full list-disc list-inside text-sm font-extralight self-center text-left space-y-4 mb-6">
            <li>Enregistrements électrophysiologiques (LFP, EEG, EMG, unités)</li>
            <li>Enregistrements photométriques (1 et 2 couleurs)</li>
            <li>Enregistrements synchronisés avec des dispositifs comportementaux (vidéo, suivi oculaire, capteurs de mouvement, etc.)</li>
            <li>Analyse des données brutes et traitement du signal</li>
          </ul>
          <img src="https://aquineuro.eu/wp-content/uploads/2022/03/ephys_banner_1.svg" alt="Ephys Banner" class="w-auto h-auto object-fit"/>
      </li>
    </ul>
  </main>

  <!--
  <section id="contact" class="bg-white py-16 px-6">
    <h2 class="text-2xl font-semibold text-[#283242] px-6 mb-12">Pour en savoir plus, écrivez-nous !</h2>
    <div class="flex items-center">
      <form action="/contact" method="POST" class="max-w-2xl space-y-12 ml-6 flex-1">
        <div class="flex gap-4">
          <input type="text" id="name" name="name" placeholder="Nom complet" required class="w-full px-4 py-2 border-b border-[#283242] bg-white focus:outline-none focus:bg-gray-200 text-[#283242] transition-colors duration-300 ease-out">
          <input type="email" id="email" name="email" placeholder="Email" required class="w-full px-4 py-2 border-b border-[#283242] bg-white focus:outline-none focus:bg-gray-200 text-[#283242] transition-colors duration-300 ease-out">
        </div>
        <div>
          <textarea id="message" name="message" placeholder="Message" rows="1" required class="w-full px-4 py-2 border-b border-[#283242] bg-white focus:outline-none focus:bg-gray-200 text-[#283242] transition-colors duration-300 ease-out"></textarea>
        </div>
        <div>
          <label class="inline-flex items-center text-[#283242]">
            <input type="checkbox" name="subscribe" class="form-checkbox h-4 w-4 text-blue-600 bg-white border-[#283242] focus:ring-blue-500">
            <span class="ml-2 text-sm">J'accepte la <a href="/politique-de-confidentialité" class="text-[#09AFFF] underline">politique de confidentialité</a> d'AquiNeuro.</span>
          </label>
        </div>
        <button type="submit" class="bg-[#09AFFF] text-white px-6 py-2 rounded-full hover:bg-blue-600 transition-colors duration-200 ease-out">
          Envoyer
          <i class="fa-solid fa-paper-plane ml-2"></i>
        </button>
      </form>
      <i class="fa-solid fa-comments text-9xl mx-auto mb-6 text-[#6B87B3]"></i>
    </div>
  </section>
  -->

  <footer class="bg-[#283242] text-white py-8 px-6">
    <div class="mx-auto flex-col justify-between items-center">
      <img src="https://aquineuro.eu/wp-content/themes/aquineuro/img/logo.svg" alt="AquiNeuro Logo" class="h-12 mb-4">
      <div class="flex justify-between items-center w-full md:w-auto space-y-4 md:space-y-0 md:space-x-6">
        <p class="text-sm mb-4 md:mb-0">&copy; 2026 AquiNeuro. Tous droits réservés.</p>
        <div class="flex space-x-6 items-end">
          <a href="/mentions-legales" class="text-sm hover:text-gray-400 transition-colors duration-200 ease-out">Mentions légales</a>
          <a href="/politique-de-confidentialité" class="text-sm hover:text-gray-400 transition-colors duration-200 ease-out">Politique de confidentialité</a>
          <a href="/conditions-generales-vente" class="text-sm hover:text-gray-400 transition-colors duration-200 ease-out">CGV</a>
        </div>
      </div>
    </div>
  </footer>

  <!-- Floating contact toggle + popup -->
  <button id="contactToggle" class="contact-toggle" aria-label="Contact" aria-expanded="false" type="button">
    <svg viewBox="0 0 24 24" fill="none" aria-hidden="true" xmlns="http://www.w3.org/2000/svg">
      <!-- speech bubble (fixed path) -->
      <g class="icon-bubble" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
        <path d="M21 15a2 2 0 0 1-2 2H8l-5 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" />
      </g>
      <!-- down chevron -->
      <g class="icon-chevron" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
        <path d="M6 9l6 6 6-6" />
      </g>
    </svg>
  </button>

  <!-- Contact popup -->
  <aside id="contactPopup" class="contact-popup" aria-hidden="true" role="dialog" aria-label="Contact form">
    <button id="contactClose" class="contact-close hover:text-[#09AFFF] transition-colors duration-300 ease-out" aria-label="Fermer">&times;</button>
    <h3 class="text-xl mb-12">Contactez-nous</h3>
    <form action="/contact" method="POST" class="max-w-2xl">
      <div class="flex gap-4">
        <input type="text" id="name" name="name" placeholder="Nom complet" required class="mb-4 text-xs w-full px-4 py-2 border-b border-gray-300 bg-white focus:outline-none focus:bg-gray-50 text-[#283242] transition-colors duration-300 ease-out">
        <input type="email" id="email" name="email" placeholder="Email" required class="mb-4 text-xs w-full px-4 py-2 border-b border-gray-300 bg-white focus:outline-none focus:bg-gray-50 text-[#283242] transition-colors duration-300 ease-out">
      </div>
      <div>
        <textarea id="message" name="message" placeholder="Message" rows="1" required class="mb-4 text-xs w-full px-4 py-2 border-b border-gray-300 bg-white focus:outline-none focus:bg-gray-50 text-[#283242] transition-colors duration-300 ease-out"></textarea>
      </div>
      <div class="w-full">
        <label class="flex justify-start items-center text-[#283242]">
          <input type="checkbox" name="subscribe" class="form-checkbox text-blue-600 w-4 h-4 bg-[#283242] border-gray-300 focus:ring-blue-500">
          <span class="text-xs ml-2">J'accepte la <a href="/politique-de-confidentialité" class="text-[#09AFFF] underline">politique de confidentialité</a> d'AquiNeuro.</span>
        </label>
      </div>
      <button type="submit" class="bg-[#09AFFF] text-xs text-white px-6 py-2 rounded-full hover:bg-blue-600 transition-colors duration-200 ease-out mt-12">
        Envoyer
        <i class="fa-solid fa-paper-plane ml-2"></i>
      </button>
    </form>
  </aside>

  <script>
    (function () {
      // Dropdown menu functionality
      const formationsBtn = document.getElementById('formationsBtn');
      const formationsDropdown = document.getElementById('formationsDropdown');
      formationsBtn.addEventListener('click', function () {
        const isExpanded = formationsBtn.getAttribute('aria-expanded') === 'true';
        formationsBtn.setAttribute('aria-expanded', String(!isExpanded));
        formationsDropdown.classList.toggle('hidden');
      });
    })();

  (function () {
      const toggle = document.getElementById('contactToggle');
      const popup = document.getElementById('contactPopup');
      const closeBtn = document.getElementById('contactClose');
      const firstField = document.querySelector('#contactPopupForm input, #contactPopupForm textarea');

      if (!toggle || !popup) return;

      function openPopup() {
        toggle.classList.add('open');
        toggle.setAttribute('aria-expanded', 'true');
        popup.classList.add('open');
        popup.setAttribute('aria-hidden', 'false');
        // focus first input
        if (firstField) setTimeout(() => firstField.focus(), 220);
      }

      function closePopup() {
        toggle.classList.remove('open');
        toggle.setAttribute('aria-expanded', 'false');
        popup.classList.remove('open');
        popup.setAttribute('aria-hidden', 'true');
        toggle.focus();
      }

      toggle.addEventListener('click', (e) => {
        const open = popup.classList.contains('open');
        if (open) closePopup(); else openPopup();
      });

      closeBtn.addEventListener('click', closePopup);

      // click outside to close
      document.addEventListener('click', (e) => {
        if (!popup.classList.contains('open')) return;
        if (popup.contains(e.target) || toggle.contains(e.target)) return;
        closePopup();
      });

      // Esc to close
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && popup.classList.contains('open')) closePopup();
      });
    })();
  </script>
</body>
</html>